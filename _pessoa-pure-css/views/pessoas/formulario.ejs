<%- include('../cabecalho') %>

<div class="pure-g">
    <div class="pure-u-1">
        <h2><%= acao === 'incluir' ? 'Incluir' : 'Editar' %> Pessoa</h2>
    </div>
</div>

<div class="pure-g">
    <div class="pure-u-1">
        <form class="pure-form pure-form-aligned" method="POST" action="/pessoas/<%= acao === 'incluir' ? 'incluir' : 'editar/' + pessoa.id %>">
            <fieldset>
                <div class="pure-control-group">
                    <label for="cpf">CPF:</label>
                    <input type="text" id="cpf" name="cpf" placeholder="CPF" value="<%= pessoa.cpf || '' %>" <%= acao === 'editar' ? 'readonly' : '' %> required minlength="11" maxlength="11">
                    <% if (erros && erros.cpf) { %>
                        <span class="pure-form-message-inline error"><%= erros.cpf.msg %></span>
                    <% } %>
                </div>

                <div class="pure-control-group">
                    <label for="nome">Nome:</label>
                    <input type="text" id="nome" name="nome" placeholder="Nome" value="<%= pessoa.nome || '' %>" required minlength="3" maxlength="60">
                    <% if (erros && erros.nome) { %>
                        <span class="pure-form-message-inline error"><%= erros.nome.msg %></span>
                    <% } %>
                </div>

                <div class="pure-control-group">
                    <label for="situacao">Situação:</label>
                    <select id="situacao" name="situacao">
                        <option value="A" <%= pessoa.situacao === 'A' ? 'selected' : '' %>>Ativo</option>
                        <option value="I" <%= pessoa.situacao === 'I' ? 'selected' : '' %>>Inativo</option>
                    </select>
                    <% if (erros && erros.situacao) { %>
                        <span class="pure-form-message-inline error"><%= erros.situacao.msg %></span>
                    <% } %>
                </div>

                <div class="pure-control-group">
                    <label for="data_nascimento">Data de Nascimento:</label>
                    <input type="date" id="data_nascimento" name="data_nascimento" value="<%= pessoa.data_nascimento || '' %>" required>
                    <% if (erros && erros.data_nascimento) { %>
                        <span class="pure-form-message-inline error"><%= erros.data_nascimento.msg %></span>
                    <% } %>
                </div>

                <div class="pure-controls">
                    <button type="submit" class="pure-button pure-button-primary">Salvar</button>
                    <a href="/pessoas" class="pure-button">Cancelar</a>
                </div>
            </fieldset>
        </form>
    </div>
</div>

<%- include('../rodape') %>